(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},201:function(e,t,c){"use strict";c.r(t);var s=c(0),r=c(1),n=c.n(r),a=c(22),i=c.n(a),l=(c(53),c(82),c(83),c(3)),d=c(7),o=(c(88),c(5)),j=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"bg-light",children:Object(s.jsx)("div",{className:"container py-5",children:Object(s.jsxs)("div",{className:"row h-100 align-items-center py-5",children:[Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsx)("h1",{className:"display-4",children:"About us"}),Object(s.jsx)("p",{className:"lead text-muted mb-0",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit."}),Object(s.jsxs)("p",{className:"lead text-muted",children:["Snippet by ",Object(s.jsx)(o.a,{to:"/",className:"text-muted",children:Object(s.jsx)("u",{children:"Lorem ipsum "})})]})]}),Object(s.jsx)("div",{className:"col-lg-6 d-none d-lg-block",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/mhmd/image/upload/v1556834136/illus_kftyh4.png",alt:"",className:"img-fluid"})})]})})}),Object(s.jsx)("div",{className:"bg-white py-5",children:Object(s.jsxs)("div",{className:"container py-5",children:[Object(s.jsxs)("div",{className:"row align-items-center mb-5",children:[Object(s.jsxs)("div",{className:"col-lg-6 order-2 order-lg-1",children:[Object(s.jsx)("i",{className:"fa fa-bar-chart fa-2x mb-3 text-primary"}),Object(s.jsx)("h2",{className:"font-weight-light",children:"Lorem ipsum dolor sit amet"}),Object(s.jsx)("p",{className:"font-italic text-muted mb-4",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(s.jsx)("button",{className:"btn btn-light px-5 rounded-pill shadow-sm",children:"Learn More"})]}),Object(s.jsx)("div",{className:"col-lg-5 px-5 mx-auto order-1 order-lg-2",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/mhmd/image/upload/v1556834139/img-1_e25nvh.jpg",alt:"",className:"img-fluid mb-4 mb-lg-0"})})]}),Object(s.jsxs)("div",{className:"row align-items-center",children:[Object(s.jsx)("div",{className:"col-lg-5 px-5 mx-auto",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/mhmd/image/upload/v1556834136/img-2_vdgqgn.jpg",alt:"",className:"img-fluid mb-4 mb-lg-0"})}),Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsx)("i",{className:"fa fa-leaf fa-2x mb-3 text-primary"}),Object(s.jsx)("h2",{className:"font-weight-light",children:"Lorem ipsum dolor sit amet"}),Object(s.jsx)("p",{className:"font-italic text-muted mb-4",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(s.jsx)(o.a,{to:"/",className:"btn btn-light px-5 rounded-pill shadow-sm",children:"Learn More"})]})]})]})})]})})})},b=c(2),m="https://dors-ecommerce-shop.herokuapp.com",h=function(e){return"$".concat(e)},u=function(e,t){return e===t},O=c(36),x=c.n(O),p=c(4),f="CREATE_USER_SUCCESS",g="CREATE_USER_FAILED",N="VERIFACATION_SUCCESS",v="VERIFACATION_FAILED",y="LOGIN_SUCCESS",w="LOGIN_FAILD",A="LOGOUTUSER",C="CHECK_USER",S="CHECK_ROLE",E="UPLOAD_PRODUCT_SUCCESS",_="UPLOAD_PRODUCT_FAILED",T="GET_ALL_PRODUCTS_SUCCESS",F="GET_ALL_PRODUCTS_FAILED",I="GET_ALL_CATEGORIES_SUCCESS",k="GET_ALL_CATEGORIES_FAILED",R="GET_FILTERED_PRODUCT_SUCCESS",D="GET_FILTERED_PRODUCT_FAILED",L="GET_ORDER_BY_PRICE_SUCCESS",P="GET_ORDER_BY_PRICE_FAILED",U="ADD_TO_CART",q="REMOVE_FROM_CART",M="CREATE_ORDER_SUCCESS",G="CREATE_ORDER_FAILED",B="GET_ALL_USERS_SUCCESS",J="GET_ALL_USERS_FAILED",V="GET_ALL_ORDERS_SUCCESS",z="GET_ALL_ORDERS_FAILED",H=function(e){return function(t,c){var s=c().CartReducer.cartItems.slice(),r=!1;s.forEach((function(t){t._id===e._id&&(r=!0,t.count++)})),r||s.push(Object(p.a)(Object(p.a)({},e),{},{count:1})),t({type:U,payload:s}),localStorage.setItem("cartItems",JSON.stringify(s))}},Y=c(27),W=function(){var e=Object(l.c)((function(e){return e.CartReducer})),t=Object(r.useState)(null),c=Object(b.a)(t,2),n=c[0],a=c[1],i=Object(l.b)();return Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)(d.a,{to:n}),Object(s.jsx)(x.a,{right:!0,children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row mt-3",children:Object(s.jsx)("h3",{children:"Shopping Cart"})}),Object(s.jsx)("div",{className:"row mt-3 ",children:Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"row ",children:Object(s.jsxs)("table",{className:"table table-sm",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{className:"b-0"}),Object(s.jsx)("th",{className:"b-0"}),Object(s.jsx)("th",{className:"b-0",children:"Price"}),Object(s.jsx)("th",{className:"b-0",children:"Qty"}),Object(s.jsx)("th",{className:"b-0"})]})}),Object(s.jsx)("tbody",{children:e.cartItems.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)(Y.LazyLoadImage,{className:"card-img-top",effect:"blur",src:e.imageUrl,alt:e.name,width:"40px",height:"40px"})}),Object(s.jsx)("td",{className:"",children:e.name}),Object(s.jsx)("td",{children:h(e.price)}),Object(s.jsx)("td",{children:e.count}),Object(s.jsx)("td",{children:Object(s.jsx)("button",{onClick:function(){return i(function(e){return function(t,c){var s=c().CartReducer.cartItems.slice().filter((function(t){return t._id!==e._id}));t({type:q,payload:s}),localStorage.setItem("cartItems",JSON.stringify(s))}}(e))},className:"btn btn-sm mt-1",children:"\ud83d\uddd1\ufe0f"})})]},e._id)}))})]})}),Object(s.jsxs)("p",{className:"col",children:[" Total Price :  ",h(e.cartItems.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2))]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){a("/checkout")},children:"Checkout"})})]})})]})})]})},X=c(8),K=c.n(X),Q=c(14),$=c(9),Z=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(null),i=Object(b.a)(a,2),l=i[0],d=i[1],o=Object(r.useState)({name:"",emailAddress:"",subject:"",message:""}),j=Object(b.a)(o,2),h=j[0],u=j[1],O=function(e){var t=e.target,c=t.name,s=t.value;u((function(e){return Object(p.a)(Object(p.a)({},e),{},Object($.a)({},c,s))}))},x=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(m,"/api/user/contact"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(h)}).then((function(e){return e.json()})).then((function(e){e.success?n(e.success.message):d(e.error.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("section",{className:"mb-4",children:[Object(s.jsx)("h2",{className:"h1-responsive font-weight-bold text-center my-4",children:"Contact us"}),Object(s.jsx)("p",{className:"text-center w-responsive mx-auto mb-5",children:"Do you have any questions? Please do not hesitate to contact us directly. Our team will come back to you within a matter of hours to help you."}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-9 mb-md-0 mb-5",children:[Object(s.jsxs)("form",{onSubmit:x,children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"md-form mb-0",children:[Object(s.jsx)("label",{htmlFor:"name",children:"Your name"}),Object(s.jsx)("input",{type:"text",id:"name",name:"name",className:"form-control",onChange:O,required:!0})]})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"md-form mb-0",children:[Object(s.jsx)("label",{htmlFor:"email",children:"Your email"}),Object(s.jsx)("input",{type:"text",id:"email",name:"emailAddress",className:"form-control",onChange:O,required:!0})]})})]}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{className:"md-form mb-0",children:[Object(s.jsx)("label",{htmlFor:"subject",children:"Subject"}),Object(s.jsx)("input",{type:"text",id:"subject",name:"subject",className:"form-control",onChange:O,required:!0})]})})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{className:"md-form",children:[Object(s.jsx)("label",{htmlFor:"message",children:"Your message"}),Object(s.jsx)("textarea",{type:"text",id:"message",name:"message",rows:2,className:"form-control md-textarea",defaultValue:"",onChange:O,required:!0})]})})}),c&&Object(s.jsx)("h3",{className:"text-success",children:c}),l&&Object(s.jsx)("h3",{className:"text-danger",children:l}),Object(s.jsx)("div",{className:" mt-3 text-center text-md-left",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary",children:"Send"})})]}),Object(s.jsx)("div",{})]}),Object(s.jsx)("div",{className:"col-md-3 text-center",children:Object(s.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("i",{className:"fas fa-map-marker-alt fa-2x"}),Object(s.jsx)("p",{children:"San Francisco, CA 94126, USA"})]},"1"),Object(s.jsxs)("li",{children:[Object(s.jsx)("i",{className:"fas fa-phone mt-4 fa-2x"}),Object(s.jsx)("p",{children:"+ 01 234 567 89"})]},"2"),Object(s.jsxs)("li",{children:[Object(s.jsx)("i",{className:"fas fa-envelope mt-4 fa-2x"}),Object(s.jsx)("p",{children:"contact@mdbootstrap.com"})]},"3")]})})]})]})})},ee=(c(92),c(55),c(18)),te=c.n(ee),ce=c(19),se=c.n(ce),re={content:{top:"20%",right:"10%",left:"10%"}},ne=function(){var e=Object(l.c)((function(e){return e.ProductReducer})),t=Object(l.c)((function(e){return e.CategoriesReducer})),c=Object(r.useState)(null),n=Object(b.a)(c,2),a=n[0],i=n[1],d=Object(r.useState)(null),o=Object(b.a)(d,2),j=o[0],u=o[1],O=Object(r.useState)(null),p=Object(b.a)(O,2),f=p[0],g=p[1],N=Object(l.b)(),v=function(){i(null)};Object(r.useEffect)((function(){var e;null!==j&&N((e=j,function(t){fetch("".concat(m,"/api/product/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){e[0]&&e[0]._id?t({type:R,payload:e}):t({type:D,payload:e})}))}))}),[N,j]);Object(r.useEffect)((function(){var t=e.products;return null!==f&&N(function(e,t){return function(c){"all"!==t&&fetch("".concat(m,"/api/product/orderbyprice"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({products:e,selectedOrderByPrice:t})}).then((function(e){return e.json()})).then((function(e){c(e?{type:L,payload:e}:{type:P,payload:e})}))}}(t,f)),function(){g(null)}}),[e.products,N,f]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(x.a,{bottom:!0,children:[Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row navbar m-3",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("select",{id:"orderby",className:"custom-select",onChange:function(e){u(e.target.value)},children:[Object(s.jsx)("option",{value:"all",children:"All Products"}),t.categories&&Object(s.jsx)(s.Fragment,{children:t.categories.map((function(e){return Object(s.jsx)("option",{value:e.name,children:e.name},e._id)}))})]})})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("select",{className:"custom-select",defaultValue:"all",id:"filterby",onChange:function(e){g(e.target.value)},children:[Object(s.jsx)("option",{value:"all",disabled:!0,children:"Price"}),Object(s.jsx)("option",{value:"highest",children:"Highest"}),Object(s.jsx)("option",{value:"lowest",children:"Lowest"})]})})})]})}),Object(s.jsx)("div",{className:"row ",children:e.products&&e.products.length>0?Object(s.jsx)(s.Fragment,{children:e.products.map((function(e){return Object(s.jsx)("div",{className:"col-sm-3 mb-2 ",children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)("a",{href:"#"+e._id,onClick:function(){return function(e){i({product:e})}(e)},children:Object(s.jsx)(Y.LazyLoadImage,{className:"card-img-top img-responsive",effect:"blur",src:e.imageUrl,alt:e.name,width:"100%",height:"auto"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h6",{className:"card-title",children:e.name}),Object(s.jsx)("p",{children:e.shortDesc}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("h6",{className:"col",children:["Price : ",h(e.price)]})}),Object(s.jsx)("button",{className:"btn btn-sm btn-success float-left",onClick:function(){N(H(e))},children:"Add To Cart"})]})]})},e._id)}))}):Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("span",{children:Object(s.jsx)("i",{className:"fa-5x fa fa-spinner fa-spin",children:" "})})})})})]}),a&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(te.a,{ariaHideApp:!1,isOpen:!0,onRequestClose:v,style:re,children:Object(s.jsx)(se.a,{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("button",{className:"mb-3 btn-danger",onClick:v,children:"X"}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)(Y.LazyLoadImage,{className:"card-img-top img-responsive",effect:"blur",src:a.product.imageUrl,alt:a.product.name,width:"100%",height:"100%"})}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("h3",{children:a.product.name}),Object(s.jsx)("h6",{children:a.product.shortDesc}),Object(s.jsx)("hr",{}),Object(s.jsx)("p",{children:a.product.longDesc}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("h6",{className:"col",children:["Price: ",h(a.product.price)]})}),Object(s.jsxs)("button",{className:"btn btn-success float-left",onClick:function(){N(H(a.product)),v()},children:["Add To Cart ",h(a.product.price)]})]})]})]})})})})]})},ae=function(){var e=Object(l.c)((function(e){return e.CartReducer}));return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(ne,{})}),e.cartItems.length>0&&Object(s.jsx)("div",{className:"col-md-4 cart",children:Object(s.jsx)(W,{})})]})})},ie=(c(102),function(){var e=Object(r.useState)({emailAddress:"",password:""}),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(l.b)(),i=Object(l.c)((function(e){return e.UserReducer})),o=function(e){var t=e.target,c=t.name,s=t.value;n((function(e){return Object(p.a)(Object(p.a)({},e),{},Object($.a)({},c,s.toLowerCase()))}))};return Object(s.jsxs)(s.Fragment,{children:["Unverified User"===i.user&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.a,{to:"/verify"}),Object(s.jsx)("h3",{children:"You Need To Verify Code"})]}),i.isLogged?Object(s.jsx)(d.a,{to:"/"}):Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container vh-100",children:[Object(s.jsx)("div",{className:"row justify-content-center mt-5",children:Object(s.jsx)("h1",{children:"Login"})}),Object(s.jsx)("div",{className:"row mt-5",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.emailAddress&&c.password&&a(function(e){return function(t){fetch("".concat(m,"/api/user/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.token?(localStorage.setItem("TokenAccess",e.token),localStorage.setItem("UserName","".concat(e.user.firstName," ").concat(e.user.lastName)),localStorage.setItem("UserId",e.user._id),"Admin"!==e.user.role?t({type:y,data:e,isLogged:!0,isAdmin:!1}):t({type:y,data:e,isLogged:!0,isAdmin:!0})):t({type:w,data:e,isLogged:!1,isAdmin:!1})}))}}(c))},className:"mx-auto",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"emailAddress",children:"Email"}),Object(s.jsx)("input",{type:"text",className:"form-control",name:"emailAddress",id:"emailAddress",onChange:o,placeholder:"example@example.com",required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",onChange:o,required:!0})]}),i.user&&Object(s.jsx)(s.Fragment,{children:i.user._id?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("h5",{className:"alert-success",children:"Login Success"})}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("h5",{className:"alert-danger",children:i.user})})}),Object(s.jsx)("button",{type:"submit",className:"btn btn-success",children:"Login"})]})})]})})]})}),le=function(){var e=Object(r.useState)({firstName:"",lastName:"",emailAddress:"",password:"",role:"User"}),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),i=Object(b.a)(a,2),o=i[0],j=i[1],h=Object(l.b)(),O=Object(l.c)((function(e){return e.UserReducer})),x=function(e){var t=e.target,c=t.name,s=t.value;n("emailAddress"===c?function(e){return Object(p.a)(Object(p.a)({},e),{},Object($.a)({},c,s.toLowerCase()))}:function(e){return Object(p.a)(Object(p.a)({},e),{},Object($.a)({},c,s))})};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container vh-100 ",children:[Object(s.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(s.jsx)("h1",{children:"Signup"})}),Object(s.jsx)("div",{className:"row justify-content-center mt-5 ",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c.firstName&&c.lastName&&c.emailAddress&&c.password&&(localStorage.setItem("UserEmailAddress",c.emailAddress),h(function(e){return function(t){fetch("".concat(m,"/api/user/register"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.success?t({type:f,payload:e}):t({type:g,payload:e})}))}}(c)))},className:"col-md-8 row",children:[Object(s.jsxs)("div",{className:"col",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",onChange:x,required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(s.jsx)("input",{type:"text",id:"lastName",className:"form-control",name:"lastName",onChange:x,required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"emailAddress",children:"Email"}),Object(s.jsx)("input",{type:"email",className:"form-control",id:"emailAddress","aria-describedby":"emailAddress",name:"emailAddress",onChange:x,required:!0}),Object(s.jsx)("small",{id:"emailAddress",className:"form-text text-muted",children:"We will never share your details with anyone else."})]})]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{type:"password",name:"password",className:"form-control",id:"password",onChange:x,required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),!u(c.password,o)&&Object(s.jsx)("p",{className:"text-danger bold",children:"Please enter identical passwords."}),Object(s.jsx)("input",{type:"password",name:"confirmPassword",className:"form-control",id:"confirmPassword",onChange:function(e){var t=e.target.value;j(t.toLowerCase())},required:!0})]}),O.userRegisteration&&Object(s.jsx)(s.Fragment,{children:O.userRegisteration.success?Object(s.jsx)(d.a,{to:"/verify"}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("h5",{className:"alert-danger",children:O.userRegisteration.error.message})})}),Object(s.jsx)("div",{className:"form-group mt-5",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"SignUp"})})]})]})})]})})},de=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(l.b)(),i=Object(l.c)((function(e){return e.UserReducer})),o=localStorage.getItem("UserEmailAddress");return Object(s.jsx)(s.Fragment,{children:!0===i.userVerified?Object(s.jsx)(d.a,{to:"/login"}):Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("h2",{children:"Email verification:"}),Object(s.jsxs)("h5",{children:["Please enter the verification code that we sent to you at the email address :",Object(s.jsxs)("span",{children:[" ",o]})," "]}),Object(s.jsxs)("form",{className:"form col-md-8",onSubmit:function(e){if(e.preventDefault(),o&&c){var t=Object(p.a)(Object(p.a)({},c),{},{emailAddress:o});c&&(console.log(t),a((s=t,function(e){fetch("".concat(m,"/api/user/verification"),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){e(!0===t?{type:N,verified:t,userEmailAddress:localStorage.getItem("UserEmailAddress")}:{type:v,verified:t,userEmailAddress:localStorage.getItem("UserEmailAddress")})}))})))}var s},children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"verificationCode",children:"Verification Code:"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"verificationCode",id:"verificationCode",onChange:function(e){var t=e.target,s=t.name,r=t.value;n(Object(p.a)(Object(p.a)({},c),{},Object($.a)({},s,r)))},placeholder:"\u05d0\u05de\u05ea \u05e7\u05d5\u05d3 \u05d1\u05df 4 \u05e1\u05e4\u05e8\u05d5\u05ea.",required:!0})]}),Object(s.jsxs)("div",{children:[!0===i.userVerified&&Object(s.jsx)("h4",{className:"alert-success",children:"Well done , you are Verified"}),!1===i.userVerified&&Object(s.jsx)("h4",{className:"alert-danger",children:"Worng Code, Please Try Again"})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary float-left",children:"Verify code "})]})]})})})})},oe={content:{top:"20%",right:"10%",left:"10%"}},je=function(){var e=localStorage.getItem("UserId"),t=Object(l.c)((function(e){return e.CartReducer})),c=Object(l.b)(),n=Object(l.c)((function(e){return e.OrderReducer})),a=Object(r.useState)({firstName:"",lastName:"",emailAddress:"",phoneNumber:"",city:"",cartItems:t.cartItems,userId:e||"",totalPrice:t.cartItems.reduce((function(e,t){return e+t.price*t.count}),0)}),i=Object(b.a)(a,2),d=i[0],o=i[1],j=Object(r.useState)(!0),u=Object(b.a)(j,2),O=u[0],x=u[1],f=function(e){var t=e.target,c=t.name,s=t.value;o((function(e){return Object(p.a)(Object(p.a)({},e),{},Object($.a)({},c,s))}))},g=function(){x(!1)};return Object(r.useEffect)((function(){n.order&&!1===O&&n.order.userId&&window.location.reload(!1)}),[n.order,O]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-4 order-md-2 mb-4",children:[Object(s.jsxs)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:[Object(s.jsx)("span",{className:"text-muted",children:"Shopping Cart"}),Object(s.jsx)("span",{className:"badge badge-secondary badge-pill",children:t.cartItems.length})]}),Object(s.jsxs)("ul",{className:"list-group mb-3",children:[t.cartItems.map((function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(s.jsx)("div",{children:Object(s.jsx)("h6",{className:"my-0",children:e.name})}),Object(s.jsxs)("span",{className:"text-muted",children:[h(e.price),"X",e.count]})]},e._id)})})),Object(s.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(s.jsx)("span",{children:"Total Price:"}),Object(s.jsx)("strong",{children:h(t.cartItems.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2))})]},"1")]})]}),Object(s.jsxs)("div",{className:"col-md-8 order-md-1",children:[Object(s.jsx)("h4",{className:"mb-3",children:"Billing address"}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.cartItems.length>0?c(function(e){return function(t){fetch("".concat(m,"/api/order/createorder"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),e._id?(localStorage.removeItem("cartItems"),t({type:M,payload:e})):t({type:G,payload:e.error.message})}))}}(d)):alert("cart items empty")},children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(s.jsx)("lable",{htmlFor:"firstName",children:"First Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"firstName",name:"firstName",onChange:f,required:!0})]}),Object(s.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(s.jsx)("lable",{htmlFor:"lastName",children:"Last Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"lastName",name:"lastName",onChange:f,required:!0})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(s.jsxs)("label",{htmlFor:"emailAddress",children:["Email",Object(s.jsx)("span",{className:"text-muted small ",children:" (This email will be used to send a receipt for the order)"})]}),Object(s.jsx)("input",{type:"email",className:"form-control",id:"emailAddress",name:"emailAddress",onChange:f,required:!0})]}),Object(s.jsxs)("div",{className:"col-md-6 mt-2",children:[Object(s.jsx)("lable",{htmlFor:"phoneNumber",children:"Phone Number"}),Object(s.jsx)("input",{type:"tel",className:"form-control",id:"phoneNumber",name:"phoneNumber",pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",placeholder:"0501231234",onChange:f,required:!0})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-6 mt-2 mb-3",children:[Object(s.jsx)("lable",{htmlFor:"city",children:"City"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"city",name:"city",onChange:f,required:!0})]}),Object(s.jsxs)("div",{className:"col-md-6 mb-3 ",children:[Object(s.jsx)("label",{htmlFor:"address",children:"Adress"}),Object(s.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",onChange:f,placeholder:"1234 Main St",required:!0})]})]}),Object(s.jsx)("hr",{className:"mb-4"}),n.order&&Object(s.jsx)(s.Fragment,{children:n.order._id?Object(s.jsx)(te.a,{isOpen:O,onRequestClose:g,style:oe,ariaHideApp:!1,children:Object(s.jsxs)(se.a,{children:[Object(s.jsx)("button",{className:"btn btn-danger",onClick:function(){g()},children:"x"}),Object(s.jsxs)("div",{className:"container pt-2 pt-md-4 px-md-5",children:[Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{width:"50px",height:"50px",className:"bg-dark",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dorromano/image/upload/v1614711964/ezgif.com-gif-maker_5_ap2dgu.webp",alt:"Men's Beard",width:"50px",height:"50px"})})}),Object(s.jsx)("table",{className:"table table-borderless",children:Object(s.jsx)("tbody",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("td",{className:"border-0",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md text-center text-md-left mb-3 mb-md-0",children:[Object(s.jsx)("h2",{className:"mb-1",children:Object(s.jsx)("strong",{children:"Men's Bread"})}),Object(s.jsx)("p",{children:" 787 Brunswick, Los Angeles, CA 50028"}),Object(s.jsx)("p",{children:" support@Men'sBeard.com / 4444 555 555"}),Object(s.jsx)("strong",{children:"www.Men'sBeard.com"})]}),Object(s.jsxs)("div",{className:"col text-center text-md-right",children:[Object(s.jsx)("span",{className:"d-none d-md-block",children:Object(s.jsx)("h1",{children:"Billed To"})}),Object(s.jsx)("h4",{className:"mb-0",children:n.order.name}),Object(s.jsxs)("h6",{children:["  ",n.order.firstName," ",n.order.lastName]}),Object(s.jsxs)("h6",{children:["  ",n.order.address,",",n.order.city]}),Object(s.jsx)("h6",{children:n.order.email}),Object(s.jsx)("h6",{children:n.order.phoneNumber}),Object(s.jsx)("h5",{className:"mb-0 mt-3",children:new Date(n.order.createdAt).toString()})]})]})})})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Summary"}),Object(s.jsx)("th",{className:"text-right",children:"Price"})]})}),Object(s.jsxs)("tbody",{children:[n.order.cartItems.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[e.count," ","*"," ",e.name]}),Object(s.jsx)("td",{className:"font-weight-bold align-middle text-right text-nowrap",children:h(e.price*e.count)})]},e._id)})),Object(s.jsx)("tr",{children:Object(s.jsx)("td",{className:"text-right border-0 pt-4 colspan-2",children:Object(s.jsxs)("h5",{children:["Total: ",h(n.order.totalPrice)]})})})]})]})]})]})}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{className:"alert-danger",children:n.order}),Object(s.jsx)("hr",{className:"mb-4"})]})}),Object(s.jsx)("button",{className:"btn btn-primary btn-lg btn-block mb-3",type:"submit",children:"Pay"})]})]})]})})})},be=(c(103),c(104),function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{id:"carouselExample1",className:"carousel slide touch z-depth-1-half","data-ride":"carousel",children:Object(s.jsxs)("div",{className:"carousel-inner",children:[Object(s.jsx)("div",{className:"carousel-item active",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dorromano/image/upload/v1629287678/ezgif.com-gif-maker_2_qbunza.webp",width:"100%",height:"500px",className:"responsiveImage",alt:"Third slide"})}),Object(s.jsx)("div",{className:"carousel-item",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dorromano/image/upload/v1629287413/ezgif.com-gif-maker_1_aktq1o.webp",className:"responsiveImage",width:"100%",height:"500px",alt:"Third slide"})}),Object(s.jsx)("div",{className:"carousel-item",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dorromano/image/upload/v1629287133/ezgif.com-gif-maker_1_fp47wb.webp",width:"100%",height:"500px",className:"responsiveImage",alt:"Third slide"})})]})})})}),me=function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("header",{className:"wrapper",children:Object(s.jsx)(be,{})})})},he=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){fetch("".concat(m,"/api/user/myOrders"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:localStorage.getItem("UserId")})}).then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:c?Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("h1",{className:"col-sm-12",children:"My Orders"}),Object(s.jsx)("p",{className:"col",children:"Here you can see the orders you have made and be updated on the status of the order."})]}),Object(s.jsx)("div",{className:"row ",children:Object(s.jsxs)("table",{className:"table table-responsive table-striped table-dark col",Style:"height: 400px; overflow: scroll;",children:[Object(s.jsx)("thead",{className:"thead-dark ",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Order ID"}),Object(s.jsx)("th",{children:"Name"}),Object(s.jsx)("th",{children:"City"}),Object(s.jsx)("th",{children:"Address"}),Object(s.jsx)("th",{children:"Email "}),Object(s.jsx)("th",{children:" Products"}),Object(s.jsx)("th",{children:"Price"}),Object(s.jsx)("th",{children:"Status"}),Object(s.jsx)("th",{children:"Created At"})]})}),Object(s.jsx)("tbody",{children:c.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})).map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(s.jsx)("td",{children:e.city}),Object(s.jsx)("td",{children:e.address}),Object(s.jsx)("td",{children:e.emailAddress}),Object(s.jsx)("td",{children:e.cartItems.map((function(e){return Object(s.jsxs)("p",{className:"small mute",children:[e.name,","]},e.name)}))}),Object(s.jsx)("td",{children:h(e.totalPrice)}),Object(s.jsx)("td",{children:e.status}),Object(s.jsx)("td",{children:new Date(e.createdAt).toString()})]},e._id)}))})]})})]}):Object(s.jsx)("div",{children:"\u05d0\u05d9\u05df \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4."})})})},ue=function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(me,{}),Object(s.jsx)("main",{className:"container-fluid    ",children:Object(s.jsx)("div",{className:"row h-100",children:Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(d.b,{children:Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.b,{path:"/register",children:Object(s.jsx)(le,{})}),Object(s.jsx)(d.b,{path:"/verify",children:Object(s.jsx)(de,{})}),Object(s.jsx)(d.b,{path:"/login",children:Object(s.jsx)(ie,{})}),Object(s.jsx)(d.b,{path:"/about",children:Object(s.jsx)(j,{})}),Object(s.jsx)(d.b,{path:"/contact",children:Object(s.jsx)(Z,{})}),Object(s.jsx)(d.b,{path:"/products",children:Object(s.jsx)(ne,{})}),Object(s.jsx)(d.b,{path:"/cart",children:Object(s.jsx)(W,{})}),Object(s.jsx)(d.b,{path:"/checkout",children:Object(s.jsx)(je,{})}),Object(s.jsx)(d.b,{path:"/myorders",children:Object(s.jsx)(he,{})}),Object(s.jsx)(d.b,{exact:!0,path:"/",children:Object(s.jsx)(ae,{})})]})})})})})]})},Oe=function(){var e=Object(r.useState)(),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(null),i=Object(b.a)(a,2),d=i[0],j=i[1],h=Object(r.useState)(null),u=Object(b.a)(h,2),O=u[0],x=u[1],p=Object(l.c)((function(e){return e.AdminReducer})),f=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(m,"/api/user/subscribe"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){e.success?j(e.success.message):x(e.error.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("footer",{className:"bg-dark text-center text-white",children:[Object(s.jsxs)("div",{className:"container p-4",children:[Object(s.jsx)("section",{children:Object(s.jsx)("form",{onSubmit:f,children:Object(s.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(s.jsx)("div",{className:"col-auto",children:Object(s.jsx)("p",{className:"pt-2",children:Object(s.jsx)("strong",{children:"Sign up for our newsletter"})})}),Object(s.jsx)("div",{className:"col-md-5 col-12",children:Object(s.jsxs)("div",{className:"form-outline form-white mb-4",children:[Object(s.jsx)("input",{type:"email",id:"form5Example2",className:"form-control",name:"emailAddress",placeholder:"Email address",onChange:function(e){var t=e.target,c=t.name,s=t.value;n(Object($.a)({},c,s.toLowerCase()))}}),d?Object(s.jsx)("h6",{className:"text-success",children:d}):Object(s.jsx)(s.Fragment,{children:O&&Object(s.jsx)("h6",{className:"text-danger",children:O})})]})}),Object(s.jsx)("div",{className:"col-auto",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-outline-light mb-4",children:"Subscribe"})})]})})}),Object(s.jsx)("section",{children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(s.jsx)("h5",{className:"text-uppercase",children:"For users"}),Object(s.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/login",className:"text-white",children:"User Login"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/register",className:"text-white",children:"User Register"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/myorders",className:"text-white",children:"My Orders"})})]})]}),!0===p.isAdmin&&Object(s.jsxs)("div",{className:"col-lg-3 col-md-6 mb-4 mb-md-0",children:[Object(s.jsx)("h5",{className:"text-uppercase",children:"For Admin"}),Object(s.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/admin",className:"text-white",children:"Dashboard"})}),Object(s.jsx)("li",{children:Object(s.jsxs)("div",{class:"dropdown",children:[Object(s.jsx)("span",{class:" dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Product Actions"}),Object(s.jsxs)("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(s.jsx)(o.b,{className:"dropdown-item",to:"/admin/uploadproduct",children:"Upload Product"}),Object(s.jsx)(o.b,{className:"dropdown-item",to:"/admin/uploadcategory",children:"Upload Category"}),Object(s.jsx)(o.b,{className:"dropdown-item",to:"/admin/deleteproduct",children:"Delete Products"}),"                                            "]})]})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/admin/orders",className:"text-white",children:"Orders"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/admin/users",className:"text-white",children:"Users"})})]})]})]})})]}),Object(s.jsxs)("div",{className:"text-center p-3",style:{backgroundColor:"rgba(0, 0, 0, 0.2)"},children:["\xa9 2021 Copyright:"," ",Object(s.jsx)("span",{className:"text-white",children:"Dor Romano"})]})]})},xe=c(23),pe=c.n(xe);c(105);pe()(window).on("scroll",(function(){pe()(window).scrollTop()?pe()("nav").addClass("black"):pe()("nav").removeClass("black")}));var fe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.UserReducer})),c=Object(l.c)((function(e){return e.CartReducer})),n=Object(r.useState)(localStorage.getItem("UserName")),a=Object(b.a)(n,2),i=a[0],d=a[1];return Object(r.useEffect)((function(){d(localStorage.getItem("UserName"))}),[t.user]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top",children:[Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsx)(o.b,{to:"/",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dorromano/image/upload/v1614711964/ezgif.com-gif-maker_5_ap2dgu.webp",alt:"LogoImg",width:"50px",height:"50px"})}),Object(s.jsx)("span",{className:"cart-icon",children:Object(s.jsx)(o.b,{to:"/cart",className:" text-white",onClick:function(e){return e.stopPropagation()},children:Object(s.jsx)("i",{className:"fa fa-shopping-cart fa-2x ",children:Object(s.jsxs)("span",{className:"badge badge-pill red ",children:[" ",c.cartItems.reduce((function(e,t){return e+t.count}),0)]})})})}),Object(s.jsx)("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:Object(s.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(s.jsx)("li",{className:"nav-item mr-3"}),Object(s.jsx)("li",{className:"nav-item active",children:Object(s.jsxs)(o.b,{className:"nav-link",to:"/",children:["Home ",Object(s.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{className:"nav-link",to:"/about",children:"About Us"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{className:"nav-link",to:"/contact",children:"Contact Us"})}),!0!==t.isLogged?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{className:"nav-link",to:"/register",children:"SignUp"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{className:"nav-link",to:"/login",children:"Login"})})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(o.b,{className:"nav-link",to:"/myorders",children:"My Orders"})}),Object(s.jsx)("li",{className:"nav-item text-white mt-2",children:Object(s.jsxs)("h5",{children:["Hello ",i]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{onClick:function(){e((function(e){localStorage.removeItem("TokenAccess"),localStorage.removeItem("UserName"),localStorage.removeItem("UserId"),localStorage.removeItem("UserEmailAddress"),e({type:A,isLogged:!1})}))},className:"nav-link",href:"/",children:"Logout"})})]})]})})]})})},ge=c(75),Ne=function(){var e=Object(l.c)((function(e){return e.AdminReducer})),t=[],c=[],r={labels:["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Orders By Month",data:t,fill:!0,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"},{label:"Revenue By Month",data:c,fill:!1,borderColor:"#742774"}]};if(e.orders)for(var n=0;n<r.labels.length;n++)for(var a=0,i=0,d=0;d<e.orders.length;d++){new Date(e.orders[d].createdAt).getMonth()===n&&(a++,i+=e.orders[d].totalPrice,c[n]=i,t[n]=a)}return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"card-columns mt-3",children:[e.orders&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"card bg-primary ",children:[Object(s.jsx)("div",{className:"cart-title ml-2 mt-2",children:Object(s.jsx)("h2",{children:"Revenue"})}),Object(s.jsx)("div",{className:"card-body text-center",children:Object(s.jsx)("h4",{className:"card-text",children:h(e.orders.reduce((function(e,t){return e+t.totalPrice}),0).toFixed(2))})})]}),Object(s.jsxs)("div",{className:"card bg-warning ",children:[Object(s.jsx)("div",{className:"cart-title ml-2 mt-2",children:Object(s.jsx)("h2",{children:"Total Sales"})}),Object(s.jsx)("div",{className:"card-body text-center",children:Object(s.jsx)("h4",{className:"card-text",children:e.orders.length})})]})]}),Object(s.jsxs)("div",{className:"card bg-success",children:[Object(s.jsx)("div",{className:"cart-title ml-2 mt-2",children:Object(s.jsx)("h2",{children:"Users"})}),Object(s.jsx)("div",{className:"card-body text-center",children:e.users&&Object(s.jsx)("h4",{className:"card-text",children:e.users.length})})]})]})}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)(ge.Line,{data:r})})]})})},ve=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(l.c)((function(e){return e.AdminReducer})),i=function(e){n(e)},d=function(){n(null)},o=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/api/order/changestatus",{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({_id:t})}).then((function(e){return e.json()})).then((function(e){console.log(e),window.location.reload(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){console.log(c)}),[c]),Object(r.useEffect)((function(){var e=setTimeout((function(){window.location.reload(!1)}),3e5);return function(){return clearTimeout(e)}}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"w-100 vh-100",children:[Object(s.jsx)("h1",{children:"Active Orders"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("table",{className:"table table-sm table-responsive table-striped table-light col ",Style:"height: 500px; overflow: scroll;",children:[Object(s.jsx)("thead",{className:"thead-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Order ID"}),Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"City"}),Object(s.jsx)("th",{scope:"col",children:"Address"}),Object(s.jsx)("th",{scope:"col",children:"Email"}),Object(s.jsx)("th",{scope:"col",children:"Products"}),Object(s.jsx)("th",{scope:"col",children:"Price"}),Object(s.jsx)("th",{scope:"col",children:"Status"}),Object(s.jsx)("th",{scope:"col",children:"Created At"}),Object(s.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(s.jsx)("tbody",{children:a.orders&&Object(s.jsx)(s.Fragment,{children:a.orders.filter((function(e){return"Active"===e.status})).sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})).map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(s.jsx)("td",{children:e.city}),Object(s.jsx)("td",{children:e.address}),Object(s.jsx)("td",{children:e.emailAddress}),Object(s.jsx)("td",{children:e.cartItems.map((function(e){return Object(s.jsxs)("p",{className:"small mute",children:[e.name,","]},e.name)}))}),Object(s.jsx)("td",{children:h(e.totalPrice)}),Object(s.jsx)("td",{children:e.status}),Object(s.jsx)("td",{children:new Date(e.createdAt).toString()}),Object(s.jsxs)("td",{children:[Object(s.jsx)("button",{className:" btn col mb-1",onClick:function(){i(e)},children:"\ud83d\udc40"}),Object(s.jsx)("button",{className:"btn btn-sm btn-success col",onClick:function(){o(e._id)},children:"Mark as sent"})]})]},e._id)}))})})]})}),Object(s.jsxs)("div",{className:"w-100",children:[Object(s.jsx)("h1",{children:"All Orders"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("table",{className:"col table table-sm table-striped table-light table-responsive ",Style:"height: 500px; overflow: scroll;",children:[Object(s.jsx)("thead",{className:"thead-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Order ID"}),Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"City"}),Object(s.jsx)("th",{scope:"col",children:"Address"}),Object(s.jsx)("th",{scope:"col",children:"Email"}),Object(s.jsx)("th",{scope:"col",children:"Products"}),Object(s.jsx)("th",{scope:"col",children:"Price"}),Object(s.jsx)("th",{scope:"col",children:"Status"}),Object(s.jsx)("th",{scope:"col",children:"Created At"}),Object(s.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(s.jsx)("tbody",{children:a.orders&&Object(s.jsx)(s.Fragment,{children:a.orders.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})).map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(s.jsx)("td",{children:e.city}),Object(s.jsx)("td",{children:e.address}),Object(s.jsx)("td",{children:e.emailAddress}),Object(s.jsx)("td",{children:e.cartItems.map((function(e){return Object(s.jsxs)("p",{className:"small mute",children:[e.name,","]},e._id)}))}),Object(s.jsx)("td",{children:h(e.totalPrice)}),Object(s.jsx)("td",{children:e.status}),Object(s.jsx)("td",{children:new Date(e.createdAt).toString()}),Object(s.jsxs)("td",{children:[Object(s.jsx)("button",{className:" btn col mb-1",onClick:function(){return i(e)},children:"\ud83d\udc40"}),"Active"===e.status&&Object(s.jsx)("button",{className:"btn btn-sm btn-success col",onClick:function(){o(e._id)},children:"Mark as sent"})]})]},e._id)}))})})]})})]})]}),c&&Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(te.a,{ariaHideApp:!1,isOpen:!0,onRequestClose:d,children:Object(s.jsxs)(se.a,{children:[Object(s.jsx)("button",{className:"btn btn-danger",onClick:function(){d()},children:"x"}),Object(s.jsxs)("div",{className:"container pt-2 pt-md-4 px-md-5",children:[Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{width:"50px",height:"50px",className:"bg-dark",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dorromano/image/upload/v1614711964/ezgif.com-gif-maker_5_ap2dgu.webp",alt:"Men's Beard",width:"50px",height:"50px"})})}),Object(s.jsx)("table",{className:"table table-borderless",children:Object(s.jsx)("tbody",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("td",{className:"border-0",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md text-center text-md-left mb-3 mb-md-0",children:[Object(s.jsx)("h2",{className:"mb-1",children:Object(s.jsx)("strong",{children:"Men's Bread"})}),Object(s.jsx)("p",{children:" 787 Brunswick, Los Angeles, CA 50028"}),Object(s.jsx)("p",{children:" support@Men'sBeard.com / 4444 555 555"}),Object(s.jsx)("strong",{children:"www.Men'sBeard.com"})]}),Object(s.jsxs)("div",{className:"col text-center text-md-right",children:[Object(s.jsx)("span",{className:"d-none d-md-block",children:Object(s.jsx)("h1",{children:"Billed To"})}),Object(s.jsx)("h4",{className:"mb-0",children:c.name}),Object(s.jsxs)("h6",{children:[c.firstName," ",c.lastName]}),Object(s.jsxs)("h6",{children:[c.address,",",c.city]}),Object(s.jsx)("h6",{children:c.email}),Object(s.jsx)("h6",{children:c.phoneNumber}),Object(s.jsx)("h5",{className:"mb-0 mt-3",children:new Date(c.createdAt).toString()})]})]})})})})}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Summary"}),Object(s.jsx)("th",{className:"text-right",children:"Price"})]})}),Object(s.jsxs)("tbody",{children:[c.cartItems&&Object(s.jsx)(s.Fragment,{children:c.cartItems.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsxs)("td",{children:[e.count," ","*"," ",e.name]}),Object(s.jsx)("td",{className:"font-weight-bold align-middle text-right text-nowrap",children:h(e.price*e.count)})]},e._id)}))}),Object(s.jsx)("tr",{children:Object(s.jsx)("td",{className:"text-right border-0 pt-4 colspan-2",children:Object(s.jsxs)("h5",{children:["Total: ",h(c.totalPrice)]})})})]})]})]}),Object(s.jsx)("button",{className:"btn btn-sm btn-danger col",onClick:d,children:"close"})]})})})]})},ye={content:{top:"30%",right:"20%",bottom:"30%",left:"20%"}},we=function(e){var t=Object(r.useState)(!0),c=Object(b.a)(t,2),a=c[0],i=c[1],l=function(){i(!1),window.location.reload(!1)},d=n.a.useRef(null);return Object(s.jsx)("div",{className:"container",ref:d,children:Object(s.jsx)(te.a,{ariaHideApp:!1,isOpen:a,onRequestClose:l,center:!0,style:ye,container:d.current,children:Object(s.jsxs)(se.a,{children:[Object(s.jsx)("button",{className:"btn btn-sm mb-3 btn-danger",onClick:l,children:"X"}),Object(s.jsx)("div",{className:"row justify-content-center",children:Object(s.jsx)("div",{className:" alert-success",children:Object(s.jsx)("h3",{children:e.message})})}),Object(s.jsx)("button",{className:"btn btn-sm btn-primary",onClick:l,children:"\u05e1\u05d2\u05d5\u05e8"})]})})})},Ae=function(){var e=Object(r.useState)(),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(),i=Object(b.a)(a,2),d=i[0],o=i[1],j=Object(r.useState)(),h=Object(b.a)(j,2),u=h[0],O=h[1],x=Object(r.useState)(),p=Object(b.a)(x,2),f=p[0],g=p[1],N=Object(r.useState)(),v=Object(b.a)(N,2),y=v[0],w=v[1],A=Object(r.useState)(null),C=Object(b.a)(A,2),S=C[0],T=C[1],F=Object(r.useState)(null),I=Object(b.a)(F,2),k=I[0],R=I[1],D=Object(l.b)(),L=Object(l.c)((function(e){return e.ProductReducer})),P=Object(l.c)((function(e){return e.CategoriesReducer}));return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container vh-100",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("form",{className:"form col",onSubmit:function(e){e.preventDefault();var t=document.querySelector('input[type="file"]').files,c=new FormData;return c.append("file",t[0]),c.append("upload_preset","ml_default"),fetch("https://api.cloudinary.com/v1_1/dorromano/image/upload",{method:"POST",body:c}).then((function(e){return e.json()})).then((function(e){T(e.secure_url),R(e.original_filename)})).catch((function(e){return console.log(e)}))},children:[Object(s.jsx)("h1",{children:"Upload Product"}),Object(s.jsxs)("h4",{children:["1. Please select image product ",Object(s.jsx)("span",{className:"text-danger",children:"(Only WebP File)"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("span",{htmlFor:"file",children:" Image :"}),Object(s.jsx)("input",{className:"form-control col-md-6",type:"file",accept:".WebP",name:"file",id:"file",onChange:function(e){},required:!0}),S&&Object(s.jsxs)("div",{className:"row alert-success",children:[Object(s.jsx)("h2",{className:"col-6",children:"Image uploaded successfully "}),Object(s.jsx)("img",{className:"",width:120,height:100,src:S,alt:k})]})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-primary ",children:"\u05e9\u05dc\u05d7"})]})}),S&&Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("h4",{children:"2. Fill rest fildes"})}),Object(s.jsx)("div",{className:" row",children:Object(s.jsxs)("form",{className:"form",children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("span",{htmlFor:"name",children:"Product Name:"}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"name",id:"name",onChange:function(e){var t=e.target.value;n(t)},required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("span",{htmlFor:"price",children:"Price: "}),Object(s.jsx)("input",{className:"form-control",type:"text",name:"price",id:"price",onChange:function(e){var t=e.target.value;o(t)},required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("span",{htmlFor:"shortDesc",children:"Short Description "}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"shortDesc",id:"shortDesc",rows:"1",onChange:function(e){var t=e.target.value;O(t)},required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("lable",{htmlFor:"longDesc",children:"Long Description "}),Object(s.jsx)("textarea",{className:"form-control",type:"text",name:"longDesc",id:"longDesc",rows:"3",onChange:function(e){var t=e.target.value;g(t)},required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("span",{htmlFor:"category",children:"Category: "}),Object(s.jsxs)("select",{id:"category",name:"category",onChange:function(e){w(e.target.value)},children:[Object(s.jsx)("option",{selected:!0,disabled:!0,value:"",children:"Categories"}),P.categories&&Object(s.jsx)(s.Fragment,{children:P.categories.map((function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("option",{value:e.name,children:e.name},e._id)})}))})]})]}),L.productUploaded&&Object(s.jsx)("div",{children:L.productUploaded.success?Object(s.jsx)(we,{message:L.productUploaded.success}):Object(s.jsx)("h4",{className:"col alert-danger",children:L.productUploaded.error})}),Object(s.jsx)("button",{onClick:function(e){(e.preventDefault(),c&&d&&u&&f&&y&&S)?D(function(e){return function(t){fetch("".concat(m,"/api/product/upload"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){!0===e.data?t({type:E,payload:e}):t({type:_,payload:e})}))}}({name:c,price:d,shortDesc:u,longDesc:f,category:y,imageUrl:S})):alert("\u05d0\u05e0\u05d0 \u05d5\u05d3\u05d0/\u05d9 \u05db\u05d9 \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea \u05de\u05dc\u05d0\u05d9\u05dd")},className:"btn btn-primary",children:"Upload Product"})]})})]})]})})},Ce=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(),i=Object(b.a)(a,2),l=i[0],d=i[1];return Object(s.jsx)("div",{className:"container vh-100",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("".concat(m,"/api/product/uploadcategory"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:l})}).then((function(e){return e.json()})).then((function(e){e._id?n(e):n(null)}))},className:"form col",children:[Object(s.jsx)("h2",{children:"Upload Products Category"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"uploadCategory",children:"Category Name:"}),Object(s.jsx)("input",{id:"uploadCategory",onChange:function(e){d(e.target.value)},type:"text",className:"form-control col-6",required:!0})]}),Object(s.jsx)("button",{className:"btn btn-primary",children:"Upload Category"}),Object(s.jsx)("div",{children:c&&Object(s.jsx)(we,{message:"Category uploaded successfully"})})]})})},Se=function(){return function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/api/user/checkrole/"),{method:"POST",headers:{"Content-Type":"application/json",token:localStorage.getItem("TokenAccess"),Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){e&&t({type:S,isAdmin:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ee=function(){var e=Object(l.c)((function(e){return e.AdminReducer})),t=Object(r.useState)([]),c=Object(b.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)([]),d=Object(b.a)(i,2),o=d[0],j=d[1];return Object(r.useEffect)((function(){fetch("".concat(m,"/api/user/subscribes"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){e&&j(e)})),fetch("http://localhost:5000/api/user/contacts",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e&&a(e)}))}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"container-fluid vh-100",children:[Object(s.jsxs)("div",{className:"table-responsive",children:[Object(s.jsx)("h1",{children:"All Users"}),Object(s.jsxs)("table",{className:"table table-sm table-striped table-light col",children:[Object(s.jsx)("thead",{className:"thead-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"User ID"}),Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Email"}),Object(s.jsx)("th",{scope:"col",children:"Created At"})]})}),Object(s.jsx)("tbody",{children:e.users&&Object(s.jsx)(s.Fragment,{children:e.users.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e._id}),Object(s.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(s.jsx)("td",{children:e.emailAddress}),Object(s.jsx)("td",{children:new Date(e.createdAt).toString()})]},e._id)}))})})]})]}),Object(s.jsxs)("div",{className:"table-responsive",children:[Object(s.jsx)("h1",{children:"Contacts"}),Object(s.jsxs)("table",{className:"table table-sm table-striped table-light col",children:[Object(s.jsx)("thead",{className:"thead-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Email"}),Object(s.jsx)("th",{scope:"col",children:"Subject"}),Object(s.jsx)("th",{scope:"col",children:"Message"}),Object(s.jsx)("th",{scope:"col",children:"Created At"})]})}),Object(s.jsx)("tbody",{children:n.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:e.emailAddress}),Object(s.jsx)("td",{children:e.subject}),Object(s.jsx)("td",{children:e.message}),Object(s.jsx)("td",{children:new Date(e.createdAt).toDateString()})]},e.name)}))})]})]}),Object(s.jsxs)("div",{className:"table-responsive",children:[Object(s.jsx)("h1",{children:"Subscribes"}),Object(s.jsxs)("table",{className:"table table-sm table-striped table-light col",children:[Object(s.jsx)("thead",{className:"thead-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Email"}),Object(s.jsx)("th",{scope:"col",children:"Created At"})]})}),Object(s.jsx)("tbody",{children:o.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.emailAddress}),Object(s.jsx)("td",{children:new Date(e.createdAt).toDateString()})]},e.emailAddress)}))})]})]})]})})},_e=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(null),i=Object(b.a)(a,2),l=i[0],d=i[1],o=Object(r.useState)(null),j=Object(b.a)(o,2),h=j[0],u=j[1],O=function(){var e=Object(Q.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(m,"/api/product/delete"),{method:"DELETE",headers:{"Content-Type":"application/json",productId:h,Accept:"application/json"},body:JSON.stringify(h)}).then((function(e){return e.json()})).then((function(e){e.success?n(e.success.message):d(e.error.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"container vh-100",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("form",{className:"form",onSubmit:O,children:[Object(s.jsx)("h2",{children:"Delete Product By ID"}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"deleteProductInput",children:"Product ID"}),Object(s.jsx)("input",{type:"text",id:"deleteProductInput",className:"form-control",name:"productId",onChange:function(e){var t=e.target,c=t.name,s=t.value;u((function(e){return Object(p.a)(Object(p.a)({},e),{},Object($.a)({},c,s))}))},placeholder:"Example: 602e33ffbbfb7126b410e4d3"})]}),Object(s.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Delete Product"}),c?Object(s.jsx)("h3",{className:"text-success",children:c}):Object(s.jsx)(s.Fragment,{children:l&&Object(s.jsx)("h3",{className:"text-danger",children:l})})]})})})})},Te=function(){var e=Object(l.c)((function(e){return e.AdminReducer})),t=Object(l.b)(),c=Object(l.c)((function(e){return e.UserReducer}));return Object(r.useEffect)((function(){c&&!0===c.isLogged&&(t(Se()),!0===e.isAdmin&&(t(function(){var e=Object(Q.a)(K.a.mark((function e(t,c){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/api/user/"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var s=c();t(e?{type:B,payload:e,isAdmin:s.AdminReducer.isAdmin,orders:s.AdminReducer.orders}:{type:J,payload:[],isAdmin:s.AdminReducer.isAdmin,orders:s.AdminReducer.orders})}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),t(function(){var e=Object(Q.a)(K.a.mark((function e(t,c){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/api/order/"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var s=c();t(e?{type:V,orders:e,isAdmin:s.AdminReducer.isAdmin}:{type:z,orders:e,isAdmin:s.AdminReducer.isAdmin})}));case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}())))}),[e.isAdmin,t,c]),Object(s.jsx)(s.Fragment,{children:!0===e.isAdmin?Object(s.jsx)(o.a,{children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-sm-2 bg-dark",children:[Object(s.jsxs)("div",{className:"text-white mt-3",children:[Object(s.jsx)(o.b,{to:"/admin",children:Object(s.jsx)("h2",{className:"text-white",children:"Dashboad"})}),Object(s.jsx)("hr",{className:"bg-light"})]}),Object(s.jsxs)("ul",{className:"list-group ",children:[Object(s.jsx)("li",{className:"list-group-item",children:Object(s.jsx)(o.b,{className:"text-dark",to:"/admin/orders",children:"Orders"})}),Object(s.jsx)("li",{className:"list-group-item",children:Object(s.jsx)(o.b,{className:"text-dark",to:"/admin/users",children:"Users"})}),Object(s.jsxs)("li",{className:"list-group-item",children:[Object(s.jsxs)("button",{className:"btn btn-sm dropdown-toggle",type:"button","data-toggle":"dropdown",children:["Products",Object(s.jsx)("span",{className:"caret"})]}),Object(s.jsxs)("ul",{className:"dropdown-menu",children:[Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{className:"text-dark",to:"/admin/uploadcategory",children:"Upload Category"})}),Object(s.jsxs)("li",{children:[Object(s.jsx)(o.b,{className:"text-dark",to:"/admin/uploadproduct",children:"Upload Products"})," "]}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{className:"text-dark",to:"/admin/deleteproduct",children:"Delete Products"})})]})]})]})]}),Object(s.jsx)("div",{className:"col-sm-10",children:Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.b,{path:"/admin/orders",children:Object(s.jsx)(ve,{orders:e.orders})}),Object(s.jsx)(d.b,{path:"/admin/users",children:Object(s.jsx)(Ee,{users:e.users})}),Object(s.jsx)(d.b,{path:"/admin/uploadcategory",children:Object(s.jsx)(Ce,{})}),Object(s.jsx)(d.b,{path:"/admin/uploadproduct",children:Object(s.jsx)(Ae,{})}),Object(s.jsx)(d.b,{path:"/admin/deleteproduct",children:Object(s.jsx)(_e,{})}),Object(s.jsx)(d.b,{exact:!0,path:"/admin",children:Object(s.jsx)(Ne,{orders:e.orders})})]})})]})})}):Object(s.jsx)("div",{className:"alert-danger",children:Object(s.jsx)("h1",{children:"Sorry You are not Admin.."})})})};var Fe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.UserReducer}));return Object(r.useEffect)((function(){e((function(e){localStorage.getItem("TokenAccess")?fetch("".concat(m,"/api/user/checkToken"),{method:"POST",headers:{"Content-Type":"application/json",token:localStorage.getItem("TokenAccess"),Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e(!0===t?{type:C,isLogged:!0}:{type:C,isLogged:!1})})):e({type:C,isLogged:!1})})),e((function(e){fetch("".concat(m,"/api/product/"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){t[0]?e({type:T,payload:t}):e({type:F,payload:t})}))})),e((function(e){fetch("".concat(m,"/api/product/getcategories"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e(t?{type:I,categories:t}:{type:k,categories:t})}))})),!0===t.isLogged&&e(Se())}),[t.isLogged,e]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(o.a,{children:Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.b,{path:"/admin",children:Object(s.jsx)(Te,{})}),Object(s.jsxs)(d.b,{path:"/",children:[Object(s.jsx)(fe,{}),Object(s.jsx)(ue,{}),Object(s.jsx)(Oe,{})]})]})})})},Ie=c(21),ke=c(76),Re="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ie.d,De=Object(Ie.e)(Object(Ie.c)({UserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(p.a)(Object(p.a)({},e),{},{isLogged:t.isLogged});case f:case g:return Object(p.a)(Object(p.a)({},e),{},{userRegisteration:t.payload});case N:return{userVerified:t.verified,userEmail:t.userEmailAddress};case v:return{userEmail:t.userEmailAddress,userVerified:t.verified};case y:case w:return{user:t.data,isLogged:t.isLogged};case A:return{isLogged:t.isLogged};default:return e}},ProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case _:return{productUploaded:t.payload};case T:case F:case R:case D:case L:case P:return{products:t.payload};default:return e}},CategoriesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case k:return{categories:t.categories};default:return e}},CartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:JSON.parse(localStorage.getItem("cartItems")||"[]")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:case q:return{cartItems:t.payload};default:return e}},OrderReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:case G:return Object(p.a)(Object(p.a)({},e),{},{order:t.payload});default:return e}},AdminReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAdmin:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(p.a)(Object(p.a)({},e),{},{isAdmin:t.isAdmin});case B:case J:return Object(p.a)(Object(p.a)({},e),{},{users:t.payload,isAdmin:t.isAdmin});case V:case z:return Object(p.a)(Object(p.a)({},e),{},{isAdmin:t.isAdmin,orders:t.orders});default:return e}}}),Re(Object(Ie.a)(ke.a)));i.a.render(Object(s.jsx)(l.a,{store:De,children:Object(s.jsx)(Fe,{})}),document.getElementById("root"))},53:function(e,t,c){},88:function(e,t,c){},92:function(e,t,c){}},[[201,1,2]]]);
//# sourceMappingURL=main.b4276369.chunk.js.map